document.addEventListener("DOMContentLoaded",function(){const i=document.getElementById("class-select"),o=document.getElementById("subject-select"),n=document.getElementById("semester-select");i&&(i.addEventListener("change",function(){const t=this.value;t?fetch(`/api/subjects/${t}`).then(e=>e.json()).then(e=>{o.innerHTML='<option value="">أختار المادة</option>',n.innerHTML='<option value="">أختار الفصل</option>',n.disabled=!0,e.message?console.error(e.message):(e.forEach(s=>{o.innerHTML+=`<option value="${s.id}">${s.subject_name}</option>`}),o.disabled=!1)}).catch(e=>console.error("Error:",e)):(o.innerHTML='<option value="">أختار المادة</option>',o.disabled=!0,n.innerHTML='<option value="">أختار الفصل</option>',n.disabled=!0)}),o.addEventListener("change",function(){const t=this.value;t?fetch(`/api/semesters/${t}`).then(e=>e.json()).then(e=>{n.innerHTML='<option value="">أختار الفصل</option>',e.message?console.error(e.message):(e.forEach(s=>{n.innerHTML+=`<option value="${s.id}">${s.semester_name}</option>`}),n.disabled=!1)}).catch(e=>console.error("Error:",e)):(n.innerHTML='<option value="">أختار الفصل</option>',n.disabled=!0)}))});
