import{r as H}from"./vendor-Bp5bGdqJ.js";var O,C,w,N,Q,z,j,R,V,P,M,W;(O={exports:{}}).exports=(C=H(),w={isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return typeof e=="string"},isNumber:function(e){return typeof e=="number"},isArray:C.isArray,isFunction:C.isFunction,isObject:C.isPlainObject,isUndefined:function(e){return e===void 0},isElement:function(e){return!(!e||e.nodeType!==1)},isJQuery:function(e){return e instanceof C},toStr:function(e){return w.isUndefined(e)||e===null?"":e+""},bind:C.proxy,each:function(e,h){function d(g,_){return h(_,g)}C.each(e,d)},map:C.map,filter:C.grep,every:function(e,h){var d=!0;return e?(C.each(e,function(g,_){if(!(d=h.call(null,_,g,e)))return!1}),!!d):d},some:function(e,h){var d=!1;return e?(C.each(e,function(g,_){if(d=h.call(null,_,g,e))return!1}),!!d):d},mixin:C.extend,identity:function(e){return e},clone:function(e){return C.extend(!0,{},e)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(e){return C.isFunction(e)?e:h;function h(){return String(e)}},defer:function(e){setTimeout(e,0)},debounce:function(e,h,d){var g,_;return function(){var s,p,l=this,v=arguments;return s=function(){g=null,d||(_=e.apply(l,v))},p=d&&!g,clearTimeout(g),g=setTimeout(s,h),p&&(_=e.apply(l,v)),_}},throttle:function(e,h){var d,g,_,s,p,l;return p=0,l=function(){p=new Date,_=null,s=e.apply(d,g)},function(){var v=new Date,S=h-(v-p);return d=this,g=arguments,S<=0?(clearTimeout(_),_=null,p=v,s=e.apply(d,g)):_||(_=setTimeout(l,S)),s}},stringify:function(e){return w.isString(e)?e:JSON.stringify(e)},noop:function(){}},N="0.11.1",Q=function(){return{nonword:h,whitespace:e,obj:{nonword:d(h),whitespace:d(e)}};function e(g){return(g=w.toStr(g))?g.split(/\s+/):[]}function h(g){return(g=w.toStr(g))?g.split(/\W+/):[]}function d(g){return function(_){return _=w.isArray(_)?_:[].slice.call(arguments,0),function(s){var p=[];return w.each(_,function(l){p=p.concat(g(w.toStr(s[l])))}),p}}}}(),z=function(){function e(g){this.maxSize=w.isNumber(g)?g:100,this.reset(),this.maxSize<=0&&(this.set=this.get=C.noop)}function h(){this.head=this.tail=null}function d(g,_){this.key=g,this.val=_,this.prev=this.next=null}return w.mixin(e.prototype,{set:function(g,_){var s,p=this.list.tail;this.size>=this.maxSize&&(this.list.remove(p),delete this.hash[p.key],this.size--),(s=this.hash[g])?(s.val=_,this.list.moveToFront(s)):(s=new d(g,_),this.list.add(s),this.hash[g]=s,this.size++)},get:function(g){var _=this.hash[g];if(_)return this.list.moveToFront(_),_.val},reset:function(){this.size=0,this.hash={},this.list=new h}}),w.mixin(h.prototype,{add:function(g){this.head&&(g.next=this.head,this.head.prev=g),this.head=g,this.tail=this.tail||g},remove:function(g){g.prev?g.prev.next=g.next:this.head=g.next,g.next?g.next.prev=g.prev:this.tail=g.prev},moveToFront:function(g){this.remove(g),this.add(g)}}),e}(),j=function(){var e;try{(e=window.localStorage).setItem("~~~","!"),e.removeItem("~~~")}catch{e=null}function h(p,l){this.prefix=["__",p,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+w.escapeRegExChars(this.prefix)),this.ls=l||e,!this.ls&&this._noop()}return w.mixin(h.prototype,{_prefix:function(p){return this.prefix+p},_ttlKey:function(p){return this._prefix(p)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=w.noop},_safeSet:function(p,l){try{this.ls.setItem(p,l)}catch(v){v.name==="QuotaExceededError"&&(this.clear(),this._noop())}},get:function(p){return this.isExpired(p)&&this.remove(p),_(this.ls.getItem(this._prefix(p)))},set:function(p,l,v){return w.isNumber(v)?this._safeSet(this._ttlKey(p),g(d()+v)):this.ls.removeItem(this._ttlKey(p)),this._safeSet(this._prefix(p),g(l))},remove:function(p){return this.ls.removeItem(this._ttlKey(p)),this.ls.removeItem(this._prefix(p)),this},clear:function(){var p,l=s(this.keyMatcher);for(p=l.length;p--;)this.remove(l[p]);return this},isExpired:function(p){var l=_(this.ls.getItem(this._ttlKey(p)));return!!(w.isNumber(l)&&d()>l)}}),h;function d(){return new Date().getTime()}function g(p){return JSON.stringify(w.isUndefined(p)?null:p)}function _(p){return C.parseJSON(p)}function s(p){var l,v,S=[],k=e.length;for(l=0;l<k;l++)(v=e.key(l)).match(p)&&S.push(v.replace(p,""));return S}}(),R=function(){var e=0,h={},d=6,g=new z(10);function _(s){s=s||{},this.cancelled=!1,this.lastReq=null,this._send=s.transport,this._get=s.limiter?s.limiter(this._get):this._get,this._cache=s.cache===!1?new z(0):g}return _.setMaxPendingRequests=function(s){d=s},_.resetCache=function(){g.reset()},w.mixin(_.prototype,{_fingerprint:function(s){return(s=s||{}).url+s.type+C.param(s.data||{})},_get:function(s,p){var l,v,S=this;function k(n){p(null,n),S._cache.set(l,n)}function c(){p(!0)}function r(){e--,delete h[l],S.onDeckRequestArgs&&(S._get.apply(S,S.onDeckRequestArgs),S.onDeckRequestArgs=null)}l=this._fingerprint(s),this.cancelled||l!==this.lastReq||((v=h[l])?v.done(k).fail(c):e<d?(e++,h[l]=this._send(s).done(k).fail(c).always(r)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(s,p){var l,v;p=p||C.noop,s=w.isString(s)?{url:s}:s||{},v=this._fingerprint(s),this.cancelled=!1,this.lastReq=v,(l=this._cache.get(v))?p(null,l):this._get(s,p)},cancel:function(){this.cancelled=!0}}),_}(),V=window.SearchIndex=function(){var e="c",h="i";function d(l){(l=l||{}).datumTokenizer&&l.queryTokenizer||C.error("datumTokenizer and queryTokenizer are both required"),this.identify=l.identify||w.stringify,this.datumTokenizer=l.datumTokenizer,this.queryTokenizer=l.queryTokenizer,this.reset()}return w.mixin(d.prototype,{bootstrap:function(l){this.datums=l.datums,this.trie=l.trie},add:function(l){var v=this;l=w.isArray(l)?l:[l],w.each(l,function(S){var k,c;v.datums[k=v.identify(S)]=S,c=g(v.datumTokenizer(S)),w.each(c,function(r){var n,i,f;for(n=v.trie,i=r.split("");f=i.shift();)(n=n[e][f]||(n[e][f]=_()))[h].push(k)})})},get:function(l){var v=this;return w.map(l,function(S){return v.datums[S]})},search:function(l){var v,S,k=this;return v=g(this.queryTokenizer(l)),w.each(v,function(c){var r,n,i,f;if(S&&S.length===0)return!1;for(r=k.trie,n=c.split("");r&&(i=n.shift());)r=r[e][i];if(!r||n.length!==0)return S=[],!1;f=r[h].slice(0),S=S?p(S,f):f}),S?w.map(s(S),function(c){return k.datums[c]}):[]},all:function(){var l=[];for(var v in this.datums)l.push(this.datums[v]);return l},reset:function(){this.datums={},this.trie=_()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),d;function g(l){return l=w.filter(l,function(v){return!!v}),l=w.map(l,function(v){return v.toLowerCase()})}function _(){var l={};return l[h]=[],l[e]={},l}function s(l){for(var v={},S=[],k=0,c=l.length;k<c;k++)v[l[k]]||(v[l[k]]=!0,S.push(l[k]));return S}function p(l,v){var S=0,k=0,c=[];l=l.sort(),v=v.sort();for(var r=l.length,n=v.length;S<r&&k<n;)l[S]<v[k]?S++:(l[S]>v[k]||(c.push(l[S]),S++),k++);return c}}(),P=function(){var e;function h(d){this.url=d.url,this.ttl=d.ttl,this.cache=d.cache,this.prepare=d.prepare,this.transform=d.transform,this.transport=d.transport,this.thumbprint=d.thumbprint,this.storage=new j(d.cacheKey)}return e={data:"data",protocol:"protocol",thumbprint:"thumbprint"},w.mixin(h.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(d){this.cache&&(this.storage.set(e.data,d,this.ttl),this.storage.set(e.protocol,location.protocol,this.ttl),this.storage.set(e.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var d,g={};return this.cache?(g.data=this.storage.get(e.data),g.protocol=this.storage.get(e.protocol),g.thumbprint=this.storage.get(e.thumbprint),d=g.thumbprint!==this.thumbprint||g.protocol!==location.protocol,g.data&&!d?g.data:null):null},fromNetwork:function(d){var g,_=this;function s(){d(!0)}function p(l){d(null,_.transform(l))}d&&(g=this.prepare(this._settings()),this.transport(g).fail(s).done(p))},clear:function(){return this.storage.clear(),this}}),h}(),M=function(){function e(h){this.url=h.url,this.prepare=h.prepare,this.transform=h.transform,this.transport=new R({cache:h.cache,limiter:h.limiter,transport:h.transport})}return w.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(h,d){var g,_=this;if(d)return h=h||"",g=this.prepare(h,this._settings()),this.transport.get(g,s);function s(p,l){d(p?[]:_.transform(l))}},cancelLastRequest:function(){this.transport.cancel()}}),e}(),W=function(){return function(s){var p,l;return p={initialize:!0,identify:w.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(s=w.mixin(p,s||{})).datumTokenizer&&C.error("datumTokenizer is required"),!s.queryTokenizer&&C.error("queryTokenizer is required"),l=s.sorter,s.sorter=l?function(v){return v.sort(l)}:w.identity,s.local=w.isFunction(s.local)?s.local():s.local,s.prefetch=e(s.prefetch),s.remote=h(s.remote),s};function e(s){var p;return s?(p={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:w.identity,transform:w.identity,transport:null},s=w.isString(s)?{url:s}:s,!(s=w.mixin(p,s)).url&&C.error("prefetch requires url to be set"),s.transform=s.filter||s.transform,s.cacheKey=s.cacheKey||s.url,s.thumbprint=N+s.thumbprint,s.transport=s.transport?_(s.transport):C.ajax,s):null}function h(s){var p;if(s)return p={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:w.identity,transport:null},s=w.isString(s)?{url:s}:s,!(s=w.mixin(p,s)).url&&C.error("remote requires url to be set"),s.transform=s.filter||s.transform,s.prepare=d(s),s.limiter=g(s),s.transport=s.transport?_(s.transport):C.ajax,delete s.replace,delete s.wildcard,delete s.rateLimitBy,delete s.rateLimitWait,s}function d(s){var p,l,v;return p=s.prepare,l=s.replace,v=s.wildcard,p||(p=l?S:s.wildcard?k:c);function S(r,n){return n.url=l(n.url,r),n}function k(r,n){return n.url=n.url.replace(v,encodeURIComponent(r)),n}function c(r,n){return n}}function g(s){var p,l,v;return p=s.limiter,l=s.rateLimitBy,v=s.rateLimitWait,p||(p=/^throttle$/i.test(l)?k(v):S(v)),p;function S(c){return function(r){return w.debounce(r,c)}}function k(c){return function(r){return w.throttle(r,c)}}}function _(s){return function(p){var l=C.Deferred();return s(p,v,S),l;function v(k){w.defer(function(){l.resolve(k)})}function S(k){w.defer(function(){l.reject(k)})}}}}(),function(){var e;function h(d){d=W(d),this.sorter=d.sorter,this.identify=d.identify,this.sufficient=d.sufficient,this.local=d.local,this.remote=d.remote?new M(d.remote):null,this.prefetch=d.prefetch?new P(d.prefetch):null,this.index=new V({identify:this.identify,datumTokenizer:d.datumTokenizer,queryTokenizer:d.queryTokenizer}),d.initialize!==!1&&this.initialize()}return e=window&&window.Bloodhound,h.noConflict=function(){return window&&(window.Bloodhound=e),h},h.tokenizers=Q,w.mixin(h.prototype,{__ttAdapter:function(){var d=this;return this.remote?g:_;function g(s,p,l){return d.search(s,p,l)}function _(s,p){return d.search(s,p)}},_loadPrefetch:function(){var d,g,_=this;return d=C.Deferred(),this.prefetch?(g=this.prefetch.fromCache())?(this.index.bootstrap(g),d.resolve()):this.prefetch.fromNetwork(s):d.resolve(),d.promise();function s(p,l){if(p)return d.reject();_.add(l),_.prefetch.store(_.index.serialize()),d.resolve()}},_initialize:function(){var d=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(g),this.initPromise;function g(){d.add(d.local)}},initialize:function(d){return!this.initPromise||d?this._initialize():this.initPromise},add:function(d){return this.index.add(d),this},get:function(d){return d=w.isArray(d)?d:[].slice.call(arguments),this.index.get(d)},search:function(d,g,_){var s,p=this;return s=this.sorter(this.index.search(d)),g(this.remote?s.slice():s),this.remote&&s.length<this.sufficient?this.remote.get(d,l):this.remote&&this.remote.cancelLastRequest(),this;function l(v){var S=[];w.each(v,function(k){!w.some(s,function(c){return p.identify(k)===p.identify(c)})&&S.push(k)}),_&&_(S)}},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return R.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),h}()),O.exports=function(e){var h={isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(c){return!c||/^\s*$/.test(c)},escapeRegExChars:function(c){return c.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(c){return typeof c=="string"},isNumber:function(c){return typeof c=="number"},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(c){return c===void 0},isElement:function(c){return!(!c||c.nodeType!==1)},isJQuery:function(c){return c instanceof e},toStr:function(c){return h.isUndefined(c)||c===null?"":c+""},bind:e.proxy,each:function(c,r){function n(i,f){return r(f,i)}e.each(c,n)},map:e.map,filter:e.grep,every:function(c,r){var n=!0;return c?(e.each(c,function(i,f){if(!(n=r.call(null,f,i,c)))return!1}),!!n):n},some:function(c,r){var n=!1;return c?(e.each(c,function(i,f){if(n=r.call(null,f,i,c))return!1}),!!n):n},mixin:e.extend,identity:function(c){return c},clone:function(c){return e.extend(!0,{},c)},getIdGenerator:function(){var c=0;return function(){return c++}},templatify:function(c){return e.isFunction(c)?c:r;function r(){return String(c)}},defer:function(c){setTimeout(c,0)},debounce:function(c,r,n){var i,f;return function(){var o,t,u=this,b=arguments;return o=function(){i=null,n||(f=c.apply(u,b))},t=n&&!i,clearTimeout(i),i=setTimeout(o,r),t&&(f=c.apply(u,b)),f}},throttle:function(c,r){var n,i,f,o,t,u;return t=0,u=function(){t=new Date,f=null,o=c.apply(n,i)},function(){var b=new Date,a=r-(b-t);return n=this,i=arguments,a<=0?(clearTimeout(f),f=null,t=b,o=c.apply(n,i)):f||(f=setTimeout(u,a)),o}},stringify:function(c){return h.isString(c)?c:JSON.stringify(c)},noop:function(){}},d=function(){var c={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return r;function r(o){var t,u;return u=h.mixin({},c,o),{css:(t={css:f(),classes:u,html:n(u),selectors:i(u)}).css,html:t.html,classes:t.classes,selectors:t.selectors,mixin:function(b){h.mixin(b,t)}}}function n(o){return{wrapper:'<span class="'+o.wrapper+'"></span>',menu:'<div class="'+o.menu+'"></div>'}}function i(o){var t={};return h.each(o,function(u,b){t[b]="."+u}),t}function f(){var o={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return h.isMsie()&&h.mixin(o.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),o}}(),g=function(){var c,r;function n(i){i&&i.el||e.error("EventBus initialized without el"),this.$el=e(i.el)}return c="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},h.mixin(n.prototype,{_trigger:function(i,f){var o;return o=e.Event(c+i),(f=f||[]).unshift(o),this.$el.trigger.apply(this.$el,f),o},before:function(i){var f;return f=[].slice.call(arguments,1),this._trigger("before"+i,f).isDefaultPrevented()},trigger:function(i){var f;this._trigger(i,[].slice.call(arguments,1)),(f=r[i])&&this._trigger(f,[].slice.call(arguments,1))}}),n}(),_=function(){var c=/\s+/,r=b();return{onSync:f,onAsync:i,off:o,trigger:t};function n(m,y,x,A){var $;if(!x)return this;for(y=y.split(c),x=A?a(x,A):x,this._callbacks=this._callbacks||{};$=y.shift();)this._callbacks[$]=this._callbacks[$]||{sync:[],async:[]},this._callbacks[$][m].push(x);return this}function i(m,y,x){return n.call(this,"async",m,y,x)}function f(m,y,x){return n.call(this,"sync",m,y,x)}function o(m){var y;if(!this._callbacks)return this;for(m=m.split(c);y=m.shift();)delete this._callbacks[y];return this}function t(m){var y,x,A,$,T;if(!this._callbacks)return this;for(m=m.split(c),A=[].slice.call(arguments,1);(y=m.shift())&&(x=this._callbacks[y]);)$=u(x.sync,this,[y].concat(A)),T=u(x.async,this,[y].concat(A)),$()&&r(T);return this}function u(m,y,x){return A;function A(){for(var $,T=0,q=m.length;!$&&T<q;T+=1)$=m[T].apply(y,x)===!1;return!$}}function b(){return window.setImmediate?function(m){setImmediate(function(){m()})}:function(m){setTimeout(function(){m()},0)}}function a(m,y){return m.bind?m.bind(y):function(){m.apply(y,[].slice.call(arguments,0))}}}(),s=function(c){var r={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(i){var f;function o(u){var b,a,m;return(b=f.exec(u.data))&&(m=c.createElement(i.tagName),i.className&&(m.className=i.className),(a=u.splitText(b.index)).splitText(b[0].length),m.appendChild(a.cloneNode(!0)),u.parentNode.replaceChild(m,a)),!!b}function t(u,b){for(var a,m=3,y=0;y<u.childNodes.length;y++)(a=u.childNodes[y]).nodeType===m?y+=b(a)?1:0:t(a,b)}(i=h.mixin({},r,i)).node&&i.pattern&&(i.pattern=h.isArray(i.pattern)?i.pattern:[i.pattern],f=n(i.pattern,i.caseSensitive,i.wordsOnly),t(i.node,o))};function n(i,f,o){for(var t,u=[],b=0,a=i.length;b<a;b++)u.push(h.escapeRegExChars(i[b]));return t=o?"\\b("+u.join("|")+")\\b":"("+u.join("|")+")",f?new RegExp(t):new RegExp(t,"i")}}(window.document),p=function(){var c;function r(o,t){(o=o||{}).input||e.error("input is missing"),t.mixin(this),this.$hint=e(o.hint),this.$input=e(o.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=n(this.$input),this._checkLanguageDirection(),this.$hint.length===0&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=h.noop)}return c={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},r.normalizeQuery=function(o){return h.toStr(o).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},h.mixin(r.prototype,_,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(o){var t=c[o.which||o.keyCode];this._managePreventDefault(t,o),t&&this._shouldTrigger(t,o)&&this.trigger(t+"Keyed",o)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(o,t){var u;switch(o){case"up":case"down":u=!f(t);break;default:u=!1}u&&t.preventDefault()},_shouldTrigger:function(o,t){return o!=="tab"||!f(t)},_checkLanguageDirection:function(){var o=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==o&&(this.dir=o,this.$hint.attr("dir",o),this.trigger("langDirChanged",o))},_setQuery:function(o,t){var u,b;b=!!(u=i(o,this.query))&&this.query.length!==o.length,this.query=o,t||u?!t&&b&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var o,t,u,b,a=this;return o=h.bind(this._onBlur,this),t=h.bind(this._onFocus,this),u=h.bind(this._onKeydown,this),b=h.bind(this._onInput,this),this.$input.on("blur.tt",o).on("focus.tt",t).on("keydown.tt",u),!h.isMsie()||h.isMsie()>9?this.$input.on("input.tt",b):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(m){c[m.which||m.keyCode]||h.defer(h.bind(a._onInput,a,m))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(o,t){this.setInputValue(o),this._setQuery(o,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(o){this.$input.val(o),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(o){this.$hint.val(o)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var o,t,u;u=(o=this.getInputValue())!==(t=this.getHint())&&t.indexOf(o)===0,(o===""||!u||this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var o=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=o},isCursorAtEnd:function(){var o,t,u;return o=this.$input.val().length,t=this.$input[0].selectionStart,h.isNumber(t)?t===o:!document.selection||((u=document.selection.createRange()).moveStart("character",-o),o===u.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=e("<div>")}}),r;function n(o){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:o.css("font-family"),fontSize:o.css("font-size"),fontStyle:o.css("font-style"),fontVariant:o.css("font-variant"),fontWeight:o.css("font-weight"),wordSpacing:o.css("word-spacing"),letterSpacing:o.css("letter-spacing"),textIndent:o.css("text-indent"),textRendering:o.css("text-rendering"),textTransform:o.css("text-transform")}).insertAfter(o)}function i(o,t){return r.normalizeQuery(o)===r.normalizeQuery(t)}function f(o){return o.altKey||o.ctrlKey||o.metaKey||o.shiftKey}}(),l=function(){var c,r;function n(t,u){(t=t||{}).templates=t.templates||{},t.templates.notFound=t.templates.notFound||t.templates.empty,t.source||e.error("missing source"),t.node||e.error("missing node"),t.name&&!o(t.name)&&e.error("invalid dataset name: "+t.name),u.mixin(this),this.highlight=!!t.highlight,this.name=t.name||r(),this.limit=t.limit||5,this.displayFn=i(t.display||t.displayKey),this.templates=f(t.templates,this.displayFn),this.source=t.source.__ttAdapter?t.source.__ttAdapter():t.source,this.async=h.isUndefined(t.async)?this.source.length>2:!!t.async,this._resetLastSuggestion(),this.$el=e(t.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}return c={val:"tt-selectable-display",obj:"tt-selectable-object"},r=h.getIdGenerator(),n.extractData=function(t){var u=e(t);return u.data(c.obj)?{val:u.data(c.val)||"",obj:u.data(c.obj)||null}:null},h.mixin(n.prototype,_,{_overwrite:function(t,u){(u=u||[]).length?this._renderSuggestions(t,u):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,u,!1)},_append:function(t,u){(u=u||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,u):u.length?this._renderSuggestions(t,u):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,u,!0)},_renderSuggestions:function(t,u){var b;b=this._getSuggestionsFragment(t,u),this.$lastSuggestion=b.children().last(),this.$el.html(b).prepend(this._getHeader(t,u)).append(this._getFooter(t,u))},_appendSuggestions:function(t,u){var b,a;a=(b=this._getSuggestionsFragment(t,u)).children().last(),this.$lastSuggestion.after(b),this.$lastSuggestion=a},_renderPending:function(t){var u=this.templates.pending;this._resetLastSuggestion(),u&&this.$el.html(u({query:t,dataset:this.name}))},_renderNotFound:function(t){var u=this.templates.notFound;this._resetLastSuggestion(),u&&this.$el.html(u({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(t,u){var b,a=this;return b=document.createDocumentFragment(),h.each(u,function(m){var y,x;x=a._injectQuery(t,m),y=e(a.templates.suggestion(x)).data(c.obj,m).data(c.val,a.displayFn(m)).addClass(a.classes.suggestion+" "+a.classes.selectable),b.appendChild(y[0])}),this.highlight&&s({className:this.classes.highlight,node:b,pattern:t}),e(b)},_getFooter:function(t,u){return this.templates.footer?this.templates.footer({query:t,suggestions:u,dataset:this.name}):null},_getHeader:function(t,u){return this.templates.header?this.templates.header({query:t,suggestions:u,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=e()},_injectQuery:function(t,u){return h.isObject(u)?h.mixin({_query:t},u):u},update:function(t){var u=this,b=!1,a=!1,m=0;function y(A){a||(a=!0,A=(A||[]).slice(0,u.limit),m=A.length,u._overwrite(t,A),m<u.limit&&u.async&&u.trigger("asyncRequested",t))}function x(A){A=A||[],!b&&m<u.limit&&(u.cancel=e.noop,m+=A.length,u._append(t,A.slice(0,u.limit-m)),u.async&&u.trigger("asyncReceived",t))}this.cancel(),this.cancel=function(){b=!0,u.cancel=e.noop,u.async&&u.trigger("asyncCanceled",t)},this.source(t,y,x),!a&&y([])},cancel:e.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=e("<div>")}}),n;function i(t){return t=t||h.stringify,h.isFunction(t)?t:u;function u(b){return b[t]}}function f(t,u){return{notFound:t.notFound&&h.templatify(t.notFound),pending:t.pending&&h.templatify(t.pending),header:t.header&&h.templatify(t.header),footer:t.footer&&h.templatify(t.footer),suggestion:t.suggestion||b};function b(a){return e("<div>").text(u(a))}}function o(t){return/^[_a-zA-Z0-9-]+$/.test(t)}}(),v=function(){function c(r,n){var i=this;function f(o){var t=i.$node.find(o.node).first();return o.node=t.length?t:e("<div>").appendTo(i.$node),new l(o,n)}(r=r||{}).node||e.error("node is required"),n.mixin(this),this.$node=e(r.node),this.query=null,this.datasets=h.map(r.datasets,f)}return h.mixin(c.prototype,_,{_onSelectableClick:function(r){this.trigger("selectableClicked",e(r.currentTarget))},_onRendered:function(r,n,i,f){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",n,i,f)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return h.every(this.datasets,r);function r(n){return n.isEmpty()}},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var r=this.getActiveSelectable();r&&r.removeClass(this.classes.cursor)},_ensureVisible:function(r){var n,i,f,o;i=(n=r.position().top)+r.outerHeight(!0),f=this.$node.scrollTop(),o=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),n<0?this.$node.scrollTop(f+n):o<i&&this.$node.scrollTop(f+(i-o))},bind:function(){var r,n=this;return r=h.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,r),h.each(this.datasets,function(i){i.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(r){this.$node.attr("dir",r)},selectableRelativeToCursor:function(r){var n,i,f;return i=this.getActiveSelectable(),n=this._getSelectables(),(f=(f=((f=(i?n.index(i):-1)+r)+1)%(n.length+1)-1)<-1?n.length-1:f)===-1?null:n.eq(f)},setCursor:function(r){this._removeCursor(),(r=r&&r.first())&&(r.addClass(this.classes.cursor),this._ensureVisible(r))},getSelectableData:function(r){return r&&r.length?l.extractData(r):null},getActiveSelectable:function(){var r=this._getSelectables().filter(this.selectors.cursor).first();return r.length?r:null},getTopSelectable:function(){var r=this._getSelectables().first();return r.length?r:null},update:function(r){var n=r!==this.query;return n&&(this.query=r,h.each(this.datasets,i)),n;function i(f){f.update(r)}},empty:function(){function r(n){n.clear()}h.each(this.datasets,r),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function r(n){n.destroy()}this.$node.off(".tt"),this.$node=e("<div>"),h.each(this.datasets,r)}}),c}(),S=function(){var c=v.prototype;function r(){v.apply(this,[].slice.call(arguments,0))}return h.mixin(r.prototype,v.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),c.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),c.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),c._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),c._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(n){return this.$node.css(n==="ltr"?this.css.ltr:this.css.rtl),c.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),r}(),k=function(){function c(n,i){var f,o,t,u,b,a,m,y,x,A,$;(n=n||{}).input||e.error("missing input"),n.menu||e.error("missing menu"),n.eventBus||e.error("missing event bus"),i.mixin(this),this.eventBus=n.eventBus,this.minLength=h.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),f=r(this,"activate","open","_onFocused"),o=r(this,"deactivate","_onBlurred"),t=r(this,"isActive","isOpen","_onEnterKeyed"),u=r(this,"isActive","isOpen","_onTabKeyed"),b=r(this,"isActive","_onEscKeyed"),a=r(this,"isActive","open","_onUpKeyed"),m=r(this,"isActive","open","_onDownKeyed"),y=r(this,"isActive","isOpen","_onLeftKeyed"),x=r(this,"isActive","isOpen","_onRightKeyed"),A=r(this,"_openIfActive","_onQueryChanged"),$=r(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",f,this).onSync("blurred",o,this).onSync("enterKeyed",t,this).onSync("tabKeyed",u,this).onSync("escKeyed",b,this).onSync("upKeyed",a,this).onSync("downKeyed",m,this).onSync("leftKeyed",y,this).onSync("rightKeyed",x,this).onSync("queryChanged",A,this).onSync("whitespaceChanged",$,this).onSync("langDirChanged",this._onLangDirChanged,this)}return h.mixin(c.prototype,{_hacks:function(){var n,i;n=this.input.$input||e("<div>"),i=this.menu.$node||e("<div>"),n.on("blur.tt",function(f){var o,t,u;o=document.activeElement,t=i.is(o),u=i.has(o).length>0,h.isMsie()&&(t||u)&&(f.preventDefault(),f.stopImmediatePropagation(),h.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(f){f.preventDefault()})},_onSelectableClicked:function(n,i){this.select(i)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(n,i,f,o){this._updateHint(),this.eventBus.trigger("render",f,o,i)},_onAsyncRequested:function(n,i,f){this.eventBus.trigger("asyncrequest",f,i)},_onAsyncCanceled:function(n,i,f){this.eventBus.trigger("asynccancel",f,i)},_onAsyncReceived:function(n,i,f){this.eventBus.trigger("asyncreceive",f,i)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(n,i){var f;(f=this.menu.getActiveSelectable())&&this.select(f)&&i.preventDefault()},_onTabKeyed:function(n,i){var f;(f=this.menu.getActiveSelectable())?this.select(f)&&i.preventDefault():(f=this.menu.getTopSelectable())&&this.autocomplete(f)&&i.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){this.dir==="rtl"&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){this.dir==="ltr"&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(n,i){this._minLengthMet(i)?this.menu.update(i):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(n,i){this.dir!==i&&(this.dir=i,this.menu.setLanguageDirection(i))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(n){return(n=h.isString(n)?n:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var n,i,f,o,t,u;n=this.menu.getTopSelectable(),i=this.menu.getSelectableData(n),f=this.input.getInputValue(),!i||h.isBlankString(f)||this.input.hasOverflow()?this.input.clearHint():(o=p.normalizeQuery(f),t=h.escapeRegExChars(o),(u=new RegExp("^(?:"+t+")(.+$)","i").exec(i.val))&&this.input.setHint(f+u[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(n){this.input.setQuery(h.toStr(n))},getVal:function(){return this.input.getQuery()},select:function(n){var i=this.menu.getSelectableData(n);return!(!i||this.eventBus.before("select",i.obj)||(this.input.setQuery(i.val,!0),this.eventBus.trigger("select",i.obj),this.close(),0))},autocomplete:function(n){var i,f;return i=this.input.getQuery(),!(!(f=this.menu.getSelectableData(n))||i===f.val||this.eventBus.before("autocomplete",f.obj)||(this.input.setQuery(f.val),this.eventBus.trigger("autocomplete",f.obj),0))},moveCursor:function(n){var i,f,o,t;return i=this.input.getQuery(),f=this.menu.selectableRelativeToCursor(n),t=(o=this.menu.getSelectableData(f))?o.obj:null,!(this._minLengthMet()&&this.menu.update(i)||this.eventBus.before("cursorchange",t)||(this.menu.setCursor(f),o?this.input.setInputValue(o.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",t),0))},destroy:function(){this.input.destroy(),this.menu.destroy()}}),c;function r(n){var i=[].slice.call(arguments,1);return function(){var f=[].slice.call(arguments);h.each(i,function(o){return n[o].apply(n,f)})}}}();(function(){var c,r,n;function i(a,m){a.each(function(){var y,x=e(this);(y=x.data(r.typeahead))&&m(y,x)})}function f(a,m){return a.clone().addClass(m.classes.hint).removeData().css(m.css.hint).css(t(a)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function o(a,m){a.data(r.attrs,{dir:a.attr("dir"),autocomplete:a.attr("autocomplete"),spellcheck:a.attr("spellcheck"),style:a.attr("style")}),a.addClass(m.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!a.attr("dir")&&a.attr("dir","auto")}catch{}return a}function t(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function u(a){var m,y;m=a.data(r.www),y=a.parent().filter(m.selectors.wrapper),h.each(a.data(r.attrs),function(x,A){h.isUndefined(x)?a.removeAttr(A):a.attr(A,x)}),a.removeData(r.typeahead).removeData(r.www).removeData(r.attr).removeClass(m.classes.input),y.length&&(a.detach().insertAfter(y),y.remove())}function b(a){var m;return(m=h.isJQuery(a)||h.isElement(a)?e(a).first():[]).length?m:null}c=e.fn.typeahead,r={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},n={initialize:function(a,m){var y;return m=h.isArray(m)?m:[].slice.call(arguments,1),y=d((a=a||{}).classNames),this.each(x);function x(){var A,$,T,q,D,I,E,F,L,B,K;h.each(m,function(U){U.highlight=!!a.highlight}),A=e(this),$=e(y.html.wrapper),T=b(a.hint),q=b(a.menu),D=a.hint!==!1&&!T,I=a.menu!==!1&&!q,D&&(T=f(A,y)),I&&(q=e(y.html.menu).css(y.css.menu)),T&&T.val(""),A=o(A,y),(D||I)&&($.css(y.css.wrapper),A.css(D?y.css.input:y.css.inputWithNoHint),A.wrap($).parent().prepend(D?T:null).append(I?q:null)),K=I?S:v,E=new g({el:A}),F=new p({hint:T,input:A},y),L=new K({node:q,datasets:m},y),B=new k({input:F,menu:L,eventBus:E,minLength:a.minLength},y),A.data(r.www,y),A.data(r.typeahead,B)}},isEnabled:function(){var a;return i(this.first(),function(m){a=m.isEnabled()}),a},enable:function(){return i(this,function(a){a.enable()}),this},disable:function(){return i(this,function(a){a.disable()}),this},isActive:function(){var a;return i(this.first(),function(m){a=m.isActive()}),a},activate:function(){return i(this,function(a){a.activate()}),this},deactivate:function(){return i(this,function(a){a.deactivate()}),this},isOpen:function(){var a;return i(this.first(),function(m){a=m.isOpen()}),a},open:function(){return i(this,function(a){a.open()}),this},close:function(){return i(this,function(a){a.close()}),this},select:function(a){var m=!1,y=e(a);return i(this.first(),function(x){m=x.select(y)}),m},autocomplete:function(a){var m=!1,y=e(a);return i(this.first(),function(x){m=x.autocomplete(y)}),m},moveCursor:function(a){var m=!1;return i(this.first(),function(y){m=y.moveCursor(a)}),m},val:function(a){var m;return arguments.length?(i(this,function(y){y.setVal(a)}),this):(i(this.first(),function(y){m=y.getVal()}),m)},destroy:function(){return i(this,function(a,m){u(m),a.destroy()}),this}},e.fn.typeahead=function(a){return n[a]?n[a].apply(this,[].slice.call(arguments,1)):n.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=c,this}})()}(H());
